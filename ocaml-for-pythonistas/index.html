<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.40.1" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/contrib/auto-render.min.js"></script>
  <title>OCaml for Pythonistas &middot; Charles, etc</title>

  
  <link rel="stylesheet" href="../css/print.css" media="print">
  <link rel="stylesheet" href="../css/poole.css">
  <link rel="stylesheet" href="../css/index.css">
  <link rel="stylesheet" href="../css/syntax.css">
  <link rel="stylesheet" href="../css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="../favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Charles, etc" />

  
</head>

  <body class=" ">
  

















    <div class="content container">
    <div class="post">
  <h1 id='title'>OCaml for Pythonistas</h1>
  <span class="post-date">Fri, Mar 30, 2018</span>
  

<p>So you like Python and you want to write something performant!</p>

<p>Exciting! Sounds like you&rsquo;ve got a fun project ahead of you.
You&rsquo;ve got a couple of options. Depending on what kind of
project you&rsquo;re working on, you might want to try:</p>

<ul>
<li><p>Using <a href="https://pypy.org/">PyPy</a>, a just-in-time compiler for Python.</p></li>

<li><p>Doing extensive profiling, and writing the most commonly used parts in C.</p></li>
</ul>

<p>This definitely leaves something to be desired. PyPy is only suitable for applications
where the added warm-up time is negligible, and it&rsquo;s less well-supported than CPython (the normal Python interpreter). And writing C is unsafe and defeats the point of choosing an elegant language like Python in the first place.</p>

<p>(I guess you could also use <a href="http://cython.org/">Cython</a> for your C-extension; this might actually be a great solution too.)</p>

<p>But you also might enjoy looking into OCaml!
OCaml is <em><strong>fast</strong></em> and <em><strong>clean</strong></em> —
just as clean as Python if you can believe it.</p>

<p>What&rsquo;s that — <strong>prove</strong> it?</p>

<p><code>¯\_(ツ)_/¯</code> Okay.</p>

<h1 id="guess-the-number">Guess the Number</h1>

<p>A simple game that chooses a number and
then let&rsquo;s you guess what it is.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#aaa;font-style:italic"># python</span>

<span style="color:#00a">import</span> <span style="color:#0aa">random</span>

<span style="color:#00a">def</span> <span style="color:#0a0">guess_a_number</span>():
  number = random.randint(<span style="color:#099">1</span>, <span style="color:#099">100</span>)
  <span style="color:#00a">def</span> <span style="color:#0a0">wrapper</span>(guess):
    <span style="color:#00a">if</span> guess &lt; number:
      <span style="color:#00a">print</span>(<span style="color:#a50">&#34;lower&#34;</span>)
    <span style="color:#00a">elif</span> guess &gt; number:
      <span style="color:#00a">print</span>(<span style="color:#a50">&#34;higher&#34;</span>)
    <span style="color:#00a">else</span>:
      <span style="color:#00a">print</span>(<span style="color:#a50">&#34;you got it!&#34;</span>)
  <span style="color:#00a">return</span> wrapper

guess = guess_a_number()
guess(<span style="color:#099">45</span>)
guess(<span style="color:#099">33</span>)
guess(<span style="color:#099">37</span>)</code></pre></div><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ocaml" data-lang="ocaml"><span style="color:#aaa;font-style:italic">(* ocaml *)</span>

<span style="color:#00a">let</span> guess_a_number () =
  <span style="color:#00a">let</span> number = <span style="color:#0aa">Random</span>.int 100 <span style="color:#00a">in</span>
  <span style="color:#00a">fun</span> guess -&gt;
    print_endline
      (<span style="color:#00a">if</span> guess &lt; number <span style="color:#00a">then</span> <span style="color:#a50">&#34;lower&#34;</span>
       <span style="color:#00a">else</span> <span style="color:#00a">if</span> guess &gt; number <span style="color:#00a">then</span> <span style="color:#a50">&#34;higher&#34;</span>
       <span style="color:#00a">else</span> <span style="color:#a50">&#34;you got it!&#34;</span>)

<span style="color:#00a">let</span> guess = guess_a_number () <span style="color:#00a">in</span>
guess 45;
guess 33;
guess 37</code></pre></div>
<p>I could say that the OCaml is slightly shorter
or doesn&rsquo;t need as many &ldquo;print&rdquo; statements.</p>

<p>But who cares? These programs
are <strong><em>basically</em></strong> the same.</p>

<p>Eh, well, that was pretty easy.
But so was the challenge! Should we
try something harder?</p>

</div>


<h1 id="side-title" class="title"><span class="wrapper">
    <span class="inside-wrapper"><a href="../"><span>C</span><span>h</span><span>a</span><span>r</span><span>l</span><span>e</span><span>s</span><span>, </span><span>e</span><span>t</span><span>c</span></a></span>
</span></h1>

<script>renderMathInElement(document.body);</script>
    </div>
    
  </body>
</html>
